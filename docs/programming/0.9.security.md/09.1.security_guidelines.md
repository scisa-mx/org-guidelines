# Lineamientos de seguridad en codigo

## ¿Qué es DevSecOps? 
DevSecOps es una evolución natural de DevOps.  
No es una herramienta, un rol nuevo ni un equipo separado: es una **forma de integrar la seguridad como parte del flujo normal de desarrollo y entrega**.

### ¿Por qué utilizarlo? 
En los modelos comunes de desarrollo con Devops es un mismo equipo que trabaja desarrollando, desplegando, provando y refactorizando el proyecto. Esto puede llegar a provocar sesgos que desencadenan fallas graves en el proyecto, tales errores como: 

- Hallazgos tardíos
- Retrasos en releases
- Fixes costosos
- Riesgos en producción



DevSecOps cambia el enfoque:
> La seguridad se detecta temprano, se corrige rápido y se automatiza.

## Principios clave de DevSecOps

### Seguridad desde el inicio

La seguridad se considera:
- Al escribir código
- Al abrir un Pull Request
- Al ejecutar pipelines
- Antes y después del deploy

### Shift Left Security

“Shift left” significa mover la seguridad **hacia etapas más tempranas** del ciclo de desarrollo.

Ejemplos:
- Detectar inyección SQL en PRs, no en producción
- Detectar secretos antes del merge
- Detectar dependencias vulnerables antes del release

Cuanto más a la izquierda, menor el impacto. Aunque tambien hay que considerar que esto incrementa el tiempo de desarrollo en equipos no tan experimentados. Por lo que hay que saber mediar entre esta practica para lograr un elemento adecuado para cada proyecto.

### Responsabilidad compartida

En DevSecOps:
- La seguridad no es solo del equipo de seguridad
- Los developers escriben código seguro
- Los pipelines validan reglas
- Los reviewers revisan con enfoque de seguridad

## DevSecOps en la práctica

### En el código

- Validación y sanitización de inputs
- Uso correcto de secretos
- Patrones seguros por defecto
- Evitar prácticas inseguras conocidas

## Uso de Checkmarx como herramienta principal de seguridad

Como parte de nuestra estrategia de DevSecOps, utilizamos **Checkmarx** como principal herramienta de análisis de seguridad del código.

### ¿Qué es Checkmarx?

Checkmarx es una herramienta de **SAST (Static Application Security Testing)** que analiza el código fuente sin necesidad de ejecutarlo.  

Su objetivo es detectar vulnerabilidades potenciales antes de que el código llegue a producción.

Entre los hallazgos que puede detectar se encuentran:

- Inyección SQL  
- Cross-Site Scripting (XSS)  
- Uso inseguro de variables  
- Manejo incorrecto de inputs  
- Secretos hardcodeados  
- Flujos inseguros de datos  

Checkmarx analiza el flujo de datos dentro del código, identificando si información proveniente del usuario o de fuentes externas llega a puntos críticos sin validación o sanitización adecuada.

## Integración con pipelines

Checkmarx se integra directamente en nuestros pipelines de CI/CD, lo que permite:

1. Ejecutar análisis automático en cada Pull Request.
2. Bloquear merges si existen vulnerabilidades críticas.
3. Generar reportes detallados de seguridad.
4. Detectar regresiones de seguridad en nuevas versiones.

Flujo típico:

1. Developer abre un Pull Request.
2. El pipeline se ejecuta automáticamente.
3. Checkmarx analiza el código.
4. Si se detectan vulnerabilidades críticas:
   - El pipeline falla.
   - El PR no puede aprobarse hasta corregir los hallazgos.
5. El developer corrige y vuelve a ejecutar el análisis.

De esta manera:

- La seguridad se vuelve parte natural del flujo.
- No depende de revisiones manuales aisladas.
- Se reduce el riesgo de vulnerabilidades en producción.
- Se estandariza el criterio de seguridad.

## Beneficios de este enfoque

- Detección temprana de vulnerabilidades  
- Reducción de riesgos en producción  
- Menor costo de corrección  
- Cultura de seguridad integrada al desarrollo  
- Automatización de controles críticos  
