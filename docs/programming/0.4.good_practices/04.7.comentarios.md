# Si vas a comentar código, elimínalo

> **“Si vas a comentar código, elimínalo.”**

A primera vista parece extrema. ¿Cómo que no comentar el código? ¿No es una buena práctica? ¿No ayuda a que otros lo entiendan?

La realidad es que esta frase no significa *"nunca escribas comentarios"*, más bien un: **el mejor comentario es el código que se explica por sí mismo**.

---

## El problema real con los comentarios

Los comentarios nacen con una buena intención: explicar lo que el código hace. El problema es que **el código cambia, los comentarios no siempre**.

### 1. Los comentarios se desactualizan

```js
// Calcula el total con IVA del 16%
const total = price * 1.08;
```

El comentario dice 16%, el código aplica 8%. ¿Cuál es la verdad?

El compilador ejecuta el código, no el comentario.

Un comentario incorrecto es **peor que no tener comentario**, porque introduce una fuente de información falsa.

Es preferible tener un código claro y sin comentarios, que un código confuso con comentarios desactualizados, que solo generan más confusión a la hora que alguien ajeno al programador inicial intenta entenderlo.

---

### 2. Repiten exactamente lo que el código ya dice

```python
# Incrementa i en 1
i += 1
```

Este tipo de comentarios no agregan valor. Solo generan ruido visual y hacen que el lector tenga que procesar más texto sin obtener información nueva.

---

### 3. Se usan para justificar mal diseño

```java
// Este método es largo porque no hubo tiempo de refactorizar
public void process() {
    ...
}
```

El comentario no soluciona el problema, solo lo documenta.

> **Los comentarios no compensan un diseño deficiente.**

Esto tampoco significa que no puedas hacer comentarios de estilo TODO o FIXME para marcar áreas que necesitan atención futura, pero estos deben ser temporales y gestionados adecuadamente, pero hay que recordar que esto no es un sustituto al sistema de tickets o issues del proyecto, que se manejan mediante alguna herramienta realmente adecuada. Los comentarios no reemplazan un BACKLOG bien gestionado.

---

## El código como principal medio de comunicación

El código no solo le habla a la computadora, **le habla a otros desarrolladores (y a tu yo del futuro)**.

Si necesitas comentar qué hace algo, probablemente:

* El nombre de una variable es malo
* El método hace demasiadas cosas
* Falta separar responsabilidades
* La abstracción no es clara

Si hay algo de esto, es preferible intentar hacer un refactor primero, y luego, si aún es necesario, agregar un comentario.

### Ejemplo

Código con comentario:

```ts
// Valida si el usuario puede acceder
if (u.r && !u.b && (u.t === 1 || u.t === 2)) {
    allow();
}
```

Código autoexplicativo:

```ts
if (user.hasRole && !user.isBlocked && user.isAdminOrEditor()) {
    allowAccess();
}
```

El segundo ejemplo elimina la necesidad del comentario. Esto siguendo metodologías y buenas prácticas de programación como el principio de responsabilidad única y nombres descriptivos (Clean Code).

---

## Entonces… ¿nunca debo comentar código?

No. **Los comentarios no son el enemigo. El mal uso de ellos sí.**

Hay contextos donde comentar no solo es válido, sino recomendable.

---

## Cuándo SÍ tiene sentido comentar

### 1. Explicar el *por qué*, no el *qué*

El código ya dice *qué* hace. El comentario debe explicar *por qué* se hace así.

```ts
// Usamos este algoritmo porque reduce el consumo de memoria en datasets grandes
```

Este tipo de información **no puede inferirse leyendo el código**.

---

### 2. Advertir sobre consecuencias no obvias

```ts
//  No cambiar este orden: rompe la compatibilidad con clientes antiguos
```

Aquí el comentario actúa como una señal de peligro.

---

### 3. Workarounds y decisiones técnicas forzadas

```ts
// Hack temporal: la API externa devuelve fechas en formato incorrecto
```

Si el código es extraño a propósito, **explícalo**.

---

### 4. Reglas de negocio complejas

```ts
// Según contrato, el cliente premium puede cancelar sin penalización antes de 24h
```

La lógica de negocio suele cambiar y no siempre es evidente solo con el código.

---

## Recomendaciones generales para comentar código

### Prefiere nombres claros antes que comentarios

* `calculateTotalWithTax()` > `calc()` + comentario
* `isUserAuthorized()` > `check()` + comentario

---

### Usa funciones pequeñas y bien definidas

Funciones cortas y enfocadas reducen la necesidad de comentarios.

---

### No comentes lo obvio

Si el comentario no aporta información nueva, elimínalo.

---

### No uses comentarios para explicar código confuso

Refactoriza primero. Comenta después si sigue siendo necesario.

---

### Mantén los comentarios actualizados

Un comentario incorrecto es deuda técnica.

---

### Usa comentarios como documentación de intención

El código muestra *cómo*. El comentario puede explicar *por qué*.

---

## La verdadera intención de la frase

> **“Si vas a comentar código, elimínalo”**

No es una regla literal. Es una provocación.

Te obliga a preguntarte:

* ¿Este comentario es realmente necesario?
* ¿Puedo expresar esto mejor con código?
* ¿Estoy ocultando un problema de diseño?

Si después de esas preguntas el comentario sigue siendo útil, entonces **adelante, escríbelo**.
